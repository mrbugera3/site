<!DOCTYPE html>
<html lang="ka">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dino Game</title>

<style>
body{
  margin:0;
  background:#f7f7f7;
  overflow:hidden;
  font-family:Arial;
}
canvas{
  display:block;
}
#ui{
  position:fixed;
  top:10px;
  right:20px;
  font-size:20px;
  color:#333;
}
#gameover{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  display:none;
}
button{
  padding:10px 20px;
  font-size:18px;
}
</style>
</head>
<body>

<div id="ui">Score: <span id="score">0</span></div>

<div id="gameover">
<h1>Game Over</h1>
<button onclick="restart()">Restart</button>
</div>

<canvas id="c"></canvas>

<script>
const c = document.getElementById("c");
const ctx = c.getContext("2d");
const scoreEl = document.getElementById("score");
const gameoverEl = document.getElementById("gameover");

let w, h;

function resize(){
  w = c.width = window.innerWidth;
  h = c.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

let dino, obstacles, gravity, score, speed, gameOver;

function init(){
  dino = {
    x:80,
    y:h-80,
    w:40,
    h:40,
    dy:0,
    grounded:true
  };

  obstacles = [];
  gravity = 0.8;
  score = 0;
  speed = 6;
  gameOver = false;

  scoreEl.textContent = score;
  gameoverEl.style.display = "none";
}

function jump(){
  if(dino.grounded && !gameOver){
    dino.dy = -14;
    dino.grounded = false;
  }
}

document.addEventListener("keydown", e=>{
  if(e.code==="Space") jump();
});

document.addEventListener("click", jump);
c.addEventListener("touchstart", jump);

function spawnObstacle(){
  obstacles.push({
    x:w,
    y:h-60,
    w:25,
    h:40
  });
}

setInterval(()=>{
  if(!gameOver){
    spawnObstacle();
  }
},1800);

function loop(){
  ctx.clearRect(0,0,w,h);

  // ground
  ctx.fillStyle="#999";
  ctx.fillRect(0,h-20,w,20);

  if(gameOver) return;

  // dino physics
  dino.dy += gravity;
  dino.y += dino.dy;

  if(dino.y > h-80){
    dino.y = h-80;
    dino.dy = 0;
    dino.grounded = true;
  }

  // draw dino
  ctx.fillStyle="#333";
  ctx.fillRect(dino.x, dino.y, dino.w, dino.h);

  // obstacles
  ctx.fillStyle="#333";
  obstacles.forEach(o=>{
    o.x -= speed;
    ctx.fillRect(o.x,o.y,o.w,o.h);

    // collision
    if(
      dino.x < o.x+o.w &&
      dino.x+dino.w > o.x &&
      dino.y < o.y+o.h &&
      dino.y+dino.h > o.y
    ){
      endGame();
    }
  });

  obstacles = obstacles.filter(o=>o.x+o.w>0);

  // score
  score += 0.05;
  scoreEl.textContent = Math.floor(score);

  // difficulty increase
  speed += 0.002;

  requestAnimationFrame(loop);
}

function endGame(){
  gameOver = true;
  gameoverEl.style.display = "block";
}

function restart(){
  init();
  loop();
}

init();
loop();
</script>

</body>
</html>
